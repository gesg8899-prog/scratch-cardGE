<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Promo & Scratch Card</title>
<style>
  body {
    margin: 0;
    font-family: 'Arial Black', Arial, sans-serif;
    background: #0f0f0f;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }

  .container {
    display: flex;
    width: 90%;
    max-width: 900px;
    border-radius: 25px;
    overflow: hidden;
    box-shadow: 0 0 50px rgba(255, 215, 0, 0.5);
  }

  /* PROMO SIDE */
  .promo {
    flex: 1;
    background: #111;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
  }
  .promo img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* SCRATCH SIDE */
  .scratch-container {
    flex: 1;
    background: linear-gradient(135deg, #2b0000, #4d0000);
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
  }

  .scratch-card {
    width: 100%;
    height: 250px;
    border-radius: 20px;
    overflow: hidden;
    border: 4px solid #800000;
    box-shadow: 0 0 40px rgba(128,0,0,0.5), inset 0 0 20px rgba(0,0,0,0.6);
    background: radial-gradient(circle, #1a0f00, #2d1f00, #1a0f00);
    position: relative;
  }

  .prize {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 5;
    transition: all 0.5s ease;
  }

  .prize-emoji { font-size: 60px; margin-bottom: 10px; color: gold; text-shadow: 0 0 15px rgba(255,215,0,0.8); }
  .prize-text { font-size: 20px; font-weight: 900; color: #ffd700; text-align: center; letter-spacing: 1px; text-shadow: 0 0 15px rgba(255, 215, 0, 0.8); }

  #scratchCanvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    cursor: crosshair;
    border-radius: 18px;
    z-index: 10;
  }

  .action {
    margin-top: 15px;
  }
  .action button {
    background: linear-gradient(135deg, #800000, #8b0000);
    border: none;
    padding: 12px 25px;
    border-radius: 25px;
    font-weight: 900;
    font-size: 14px;
    color: #fff;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(128,0,0,0.5);
    border: 2px solid #fff;
    transition: all 0.3s ease;
  }
  .action button:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(128,0,0,0.7); }

  @media (max-width:800px){
    .container { flex-direction: column; }
    .scratch-container { width: 100%; }
  }

  /* Animations */
  @keyframes sparkle { 0% {transform: scale(1) rotate(0deg);} 50% {transform: scale(1.3) rotate(15deg);} 100% {transform: scale(1) rotate(0deg);} }
  .sparkle { animation: sparkle 0.5s ease infinite; }

  @keyframes sadShake { 0% {transform: rotate(0deg);} 25% {transform: rotate(-10deg);} 50% {transform: rotate(10deg);} 75% {transform: rotate(-10deg);} 100% {transform: rotate(0deg);} }
  .sad { animation: sadShake 0.5s ease infinite; }

</style>
</head>
<body>

<div class="container">
  <!-- Promo Side -->
  <div class="promo">
    <!-- Upload gambar promosi sendiri di sini -->
    <img src="promo-placeholder.jpg" alt="Promo Image">
  </div>

  <!-- Scratch Card Side -->
  <div class="scratch-container">
    <div class="scratch-card">
      <div class="prize">
        <div class="prize-emoji" id="prizeEmoji">ü™ô</div>
        <div class="prize-text" id="prizeText"></div>
      </div>
      <canvas id="scratchCanvas"></canvas>
    </div>
    <div class="action">
      <button onclick="revealAll()">üî• REVEAL ALL üî•</button>
    </div>
  </div>
</div>

<script>
  // Scratch Canvas
  const canvas = document.getElementById('scratchCanvas');
  const ctx = canvas.getContext('2d');
  let isScratching=false, prevX=0, prevY=0;

  function resizeCanvas(){
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width*2;
    canvas.height = rect.height*2;
    ctx.scale(2,2);
    createScratchSurface();
  }

  function createScratchSurface(){
    ctx.fillStyle = '#808080';
    ctx.fillRect(0,0,canvas.width/2,canvas.height/2);
  }

  function scratch(e){
    const rect = canvas.getBoundingClientRect();
    const x = (e.clientX||e.touches[0].clientX) - rect.left;
    const y = (e.clientY||e.touches[0].clientY) - rect.top;
    ctx.globalCompositeOperation = 'destination-out';
    ctx.lineWidth = 25;
    ctx.lineCap = 'round';
    ctx.beginPath();
    ctx.moveTo(prevX||x, prevY||y);
    ctx.lineTo(x, y);
    ctx.stroke();
    prevX = x;
    prevY = y;
  }

  function revealAll(){ ctx.clearRect(0,0,canvas.width,canvas.height); }

  canvas.addEventListener('mousedown',()=>isScratching=true);
  canvas.addEventListener('mouseup',()=>{isScratching=false; prevX=0; prevY=0;});
  canvas.addEventListener('mousemove',(e)=>{if(isScratching) scratch(e);});
  canvas.addEventListener('touchstart',(e)=>{e.preventDefault(); isScratching=true; scratch(e);});
  canvas.addEventListener('touchmove',(e)=>{e.preventDefault(); if(isScratching) scratch(e);});
  canvas.addEventListener('touchend',()=>{isScratching=false; prevX=0; prevY=0;});
  window.addEventListener('resize', resizeCanvas);

  // Prize Logic
  const prizeEmoji = document.getElementById('prizeEmoji');
  const prizeText = document.getElementById('prizeText');

  const winPrizes = [
    {emoji:'ü™ô', text:'WIN 6 SGD'},
    {emoji:'üíé', text:'WIN 10 SGD'},
    {emoji:'üéÅ', text:'WIN 20 SGD'}
  ];
  const losePrize = {emoji:'üò¢', text:'TRY AGAIN'};

  function pickPrize(){
    const chance = Math.random();
    if(chance <= 0.4){ // 40% win
      const prize = winPrizes[Math.floor(Math.random()*winPrizes.length)];
      prizeEmoji.textContent = prize.emoji;
      prizeText.textContent = prize.text;
      prizeEmoji.classList.add('sparkle');
      prizeEmoji.classList.remove('sad');
    }else{
      prizeEmoji.textContent = losePrize.emoji;
      prizeText.textContent = losePrize.text;
      prizeEmoji.classList.add('sad');
      prizeEmoji.classList.remove('sparkle');
    }
  }

  window.addEventListener('load', ()=>{ pickPrize(); resizeCanvas(); });
</script>

</body>
</html>
